var Z=Object.defineProperty;var M=s=>{throw TypeError(s)};var J=(s,e,t)=>e in s?Z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var B=(s,e,t)=>J(s,typeof e!="symbol"?e+"":e,t),N=(s,e,t)=>e.has(s)||M("Cannot "+t);var r=(s,e,t)=>(N(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Y=(s,e,t,i)=>(N(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t);import{G as k,H as Q,I as y,J as V,z as C,K as F,m as w,C as W,L as X,M as j,N as ee,o as se,O as te,P as re,Q as ae,R as ie,E as ne,S as U,U as fe,V as ce,h as $,W as ue,X as q,Y as de,Z as he,_ as le,g as O,l as oe,$ as _e,a0 as ve,a1 as pe,a2 as be,B as Se,a3 as ge,a4 as Pe,a5 as Ee,v as Re,a6 as Ae,a7 as me,a8 as Ie}from"./D2YwCGJW.js";var l,o,h,p,E,R,I;class Te{constructor(e,t=!0){B(this,"anchor");v(this,l,new Map);v(this,o,new Map);v(this,h,new Map);v(this,p,new Set);v(this,E,!0);v(this,R,()=>{var e=k;if(r(this,l).has(e)){var t=r(this,l).get(e),i=r(this,o).get(t);if(i)Q(i),r(this,p).delete(t);else{var n=r(this,h).get(t);n&&(r(this,o).set(t,n.effect),r(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),i=n.effect)}for(const[a,c]of r(this,l)){if(r(this,l).delete(a),a===e)break;const f=r(this,h).get(c);f&&(y(f.effect),r(this,h).delete(c))}for(const[a,c]of r(this,o)){if(a===t||r(this,p).has(a))continue;const f=()=>{if(Array.from(r(this,l).values()).includes(a)){var _=document.createDocumentFragment();X(c,_),_.append(C()),r(this,h).set(a,{effect:c,fragment:_})}else y(c);r(this,p).delete(a),r(this,o).delete(a)};r(this,E)||!i?(r(this,p).add(a),V(c,f,!1)):f()}}});v(this,I,e=>{r(this,l).delete(e);const t=Array.from(r(this,l).values());for(const[i,n]of r(this,h))t.includes(i)||(y(n.effect),r(this,h).delete(i))});this.anchor=e,Y(this,E,t)}ensure(e,t){var i=k,n=j();if(t&&!r(this,o).has(e)&&!r(this,h).has(e))if(n){var a=document.createDocumentFragment(),c=C();a.append(c),r(this,h).set(e,{effect:F(()=>t(c)),fragment:a})}else r(this,o).set(e,F(()=>t(this.anchor)));if(r(this,l).set(i,e),n){for(const[f,u]of r(this,o))f===e?i.skipped_effects.delete(u):i.skipped_effects.add(u);for(const[f,u]of r(this,h))f===e?i.skipped_effects.delete(u.effect):i.skipped_effects.add(u.effect);i.oncommit(r(this,R)),i.ondiscard(r(this,I))}else w&&(this.anchor=W),r(this,R).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,p=new WeakMap,E=new WeakMap,R=new WeakMap,I=new WeakMap;function De(s,e,t=!1){w&&se();var i=new Te(s),n=t?te:0;function a(c,f){if(w){const _=re(s)===ae;if(c===_){var u=ie();ne(u),i.anchor=u,U(!1),i.ensure(c,f),U(!0);return}}i.ensure(c,f)}ee(()=>{var c=!1;e((f,u=!0)=>{c=!0,a(u,f)}),c||a(!1,null)},n)}function K(s,e){return s===e||(s==null?void 0:s[q])===e}function Le(s={},e,t,i){return fe(()=>{var n,a;return ce(()=>{n=a,a=[],$(()=>{s!==t(...a)&&(e(s,...a),n&&K(t(...n),s)&&e(null,...n))})}),()=>{ue(()=>{a&&K(t(...a),s)&&e(null,...a)})}}),s}let m=!1;function ye(s){var e=m;try{return m=!1,[s(),m]}finally{m=e}}const Oe={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Me(s,e,t){return new Proxy({props:s,exclude:e},Oe)}function Be(s,e,t,i){var D;var n=!Re||(t&Ae)!==0,a=(t&Ee)!==0,c=(t&Pe)!==0,f=i,u=!0,_=()=>(u&&(u=!1,f=c?$(i):i),f),S;if(a){var z=q in s||Ie in s;S=((D=de(s,e))==null?void 0:D.set)??(z&&e in s?d=>s[e]=d:void 0)}var g,x=!1;a?[g,x]=ye(()=>s[e]):g=s[e],g===void 0&&i!==void 0&&(g=_(),S&&(n&&he(),S(g)));var b;if(n?b=()=>{var d=s[e];return d===void 0?_():(u=!0,d)}:b=()=>{var d=s[e];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&!(t&le))return b;if(S){var G=s.$$legacy;return function(d,A){return arguments.length>0?((!n||!A||G||x)&&S(A?b():d),d):b()}}var T=!1,P=(t&me?oe:_e)(()=>(T=!1,b()));a&&O(P);var H=Se;return function(d,A){if(arguments.length>0){const L=A?O(P):n&&a?ve(d):d;return pe(P,L),T=!0,f!==void 0&&(f=L),d}return be&&T||H.f&ge?P.v:O(P)}}export{Te as B,Le as b,De as i,Be as p,Me as r};
